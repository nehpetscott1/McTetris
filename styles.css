:root{
  --crt-green:#00ff00;
  --crt-cyan:#00ffff;
  --crt-amber:#ffaa00;
  --bg:#000000;
  --panel:#111111;
  --grid:#003300;
  --ghost:#004400;
  --ghost-lock:#00aa66;
  --accent:#00ffaa;
  --warn:#ff5a5a;
  --flash:#9dff9d;
}

*{margin:0;padding:0;box-sizing:border-box}
body{
  font-family:'JetBrains Mono','Courier Prime',monospace;
  background:#000; color:var(--crt-green); min-height:100vh; padding:1rem; overflow-x:hidden;
}

.container{max-width:1200px; margin:0 auto; position:relative;}
.container::before{
  content:''; position:fixed; inset:0;
  background:linear-gradient(transparent 50%, rgba(0,255,0,0.03) 50%);
  background-size:100% 4px; pointer-events:none; z-index:1000;
}

.title{
  text-align:center; font-size:3rem; font-weight:700; letter-spacing:.5rem;
  margin-bottom:2rem; text-shadow:0 0 20px var(--crt-green);
  animation:glow 2s ease-in-out infinite alternate;
}
@keyframes glow{
  from{ text-shadow:0 0 20px var(--crt-green) }
  to{ text-shadow:0 0 30px var(--crt-green),0 0 40px var(--crt-green) }
}

.game-layout{display:grid; grid-template-columns:1fr auto 1fr; gap:2rem; align-items:start;}

.game-board{
  width:300px; height:600px; border:4px solid var(--crt-green); border-radius:8px; background:#111;
  box-shadow:0 0 20px var(--crt-green), inset 0 0 20px rgba(0,255,0,.1);
  display:grid; grid-template-columns:repeat(10, 1fr); grid-template-rows:repeat(20, 1fr);
  gap:1px; padding:4px; justify-self:center;
}
.game-cell{ background:#000; border:1px solid var(--grid); transition:background-color .08s ease, box-shadow .12s ease, opacity .12s ease; }
.game-cell.filled{ box-shadow:inset 0 0 10px rgba(255,255,255,.25); }
.game-cell.ghost{ background:var(--ghost) !important; opacity:.45; }
.game-cell.ghost.lockPulse{ background:var(--ghost-lock) !important; opacity:.65; animation:ghostPulse .35s ease-in-out infinite alternate; }
@keyframes ghostPulse{ from{opacity:.55} to{opacity:.85} }

.row-flash{ animation:rowFlash .18s ease-in-out 2; }
@keyframes rowFlash{ 0%{background:#000} 50%{background:var(--flash)} 100%{background:#000} }

.side-panel{
  background:var(--panel); border:2px solid var(--crt-green); border-radius:8px; padding:1.5rem;
  box-shadow:0 0 15px rgba(0,255,0,.3);
}
.panel-title{ font-size:1.1rem; font-weight:700; text-align:center; color:var(--crt-green); margin-bottom:1rem; }

.score-item{ display:flex; justify-content:space-between; margin-bottom:.5rem; font-size:.9rem; }
.score-value{ color:var(--crt-cyan); font-weight:700; }

.mini-grid{
  width:96px; height:96px; border:2px solid #004400; border-radius:4px; background:#000; margin:.5rem auto;
  display:grid; grid-template-columns:repeat(4,1fr); grid-template-rows:repeat(4,1fr); gap:1px; padding:4px;
}
.preview-cell{ background:#000; border-radius:1px; }
.mini-list{ display:grid; grid-template-columns:repeat(1, 1fr); gap:.5rem; justify-items:center; }

.controls{ display:flex; flex-direction:column; gap:1rem; }
.btn{
  background:#222; border:2px solid var(--crt-green); color:var(--crt-green); padding:.75rem 1rem;
  border-radius:4px; font-family:inherit; font-size:.9rem; font-weight:600; cursor:pointer; transition:.15s;
  text-transform:uppercase;
}
.btn:hover:not(:disabled){ background:#003300; border-color:var(--accent); box-shadow:0 0 10px rgba(0,255,0,.45); }
.btn:active:not(:disabled){ background:#001100; }
.btn:disabled{ opacity:.5; cursor:not-allowed; }
.btn-primary{ background:#004400; color:#fff; }
.btn-primary:hover:not(:disabled){ background:#006600; }

.opt{ display:grid; grid-template-columns:auto 1fr; gap:.5rem .75rem; align-items:center; font-size:.8rem; margin-top:.75rem; }
.opt input[type="number"], .opt input[type="text"], .opt select{
  background:#0a0a0a; color:#9fffbf; border:1px solid #044; border-radius:4px; padding:.3rem .4rem; width:100%;
}
.opt input[type="range"]{ width:100%; }

.modal{ position:fixed; inset:0; background:rgba(0,0,0,.9); display:flex; align-items:center; justify-content:center; z-index:1000; padding:1rem; }
.modal-content{ background:#111; border:4px solid var(--crt-green); border-radius:8px; padding:2rem; text-align:center; max-width:720px; width:100%; box-shadow:0 0 30px rgba(0,255,0,.5); }
.modal-title{ font-size:2.2rem; font-weight:800; margin-bottom:1rem; text-shadow:0 0 15px var(--crt-green); animation:pulse 2s infinite; }
@keyframes pulse{0%,100%{opacity:1} 50%{opacity:.7}}
.modal-text{ margin-bottom:1.1rem; color:#00cccc; }
.modal-stats{ margin:1rem 0; display:grid; grid-template-columns:repeat(3,1fr); gap:1rem; }
.stat-item{ background:#000; border:1px solid #044; border-radius:4px; padding:.5rem; }
.stat-value{ font-size:1.2rem; font-weight:800; color:var(--crt-cyan); }
.stat-label{ font-size:.8rem; color:#0a0; }
.hidden{ display:none !important; }

.kbd-grid{display:grid; grid-template-columns:1fr 1fr; gap:.6rem .8rem; margin-top:.5rem; text-align:left}
.kbd-grid label{font-size:.85rem}
.kbd-grid input{background:#0a0a0a; color:#9fffbf; border:1px solid #044; border-radius:4px; padding:.3rem .4rem}

.tut-body{ text-align:left; font-size:.95rem; color:#9fffbf; }
.tut-body .tut-list{ margin-left:1rem; margin-top:.4rem; }
.tut-nav{ display:flex; justify-content:center; gap:.6rem; margin-top:1rem; }

.color-I{ background:#00ffff !important; }
.color-O{ background:#ffff00 !important; }
.color-T{ background:#800080 !important; }
.color-S{ background:#00ff00 !important; }
.color-Z{ background:#ff0000 !important; }
.color-J{ background:#0000ff !important; }
.color-L{ background:#ffa500 !important; }

@media (max-width:1024px){
  .game-layout{ grid-template-columns:1fr; gap:1.5rem; }
  .title{ font-size:2.5rem; letter-spacing:.3rem; }
}
@media (max-width:640px){
  .title{ font-size:2rem; letter-spacing:.2rem; }
  .game-board{ width:250px; height:500px; }
  .modal-title{ font-size:2rem; }
}
